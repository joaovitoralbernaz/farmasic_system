<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="shortcut icon" href="img/favicon.png" type="image/x-icon">
    <title>Realização de Venda</title>
    <link rel="stylesheet" href="css/vendas.css">
    <script src="js/venda.js" defer></script>
</head>
<body onload="buscarProdutos()">
<header>
    <div class="cabecalho">
        <img src="img/logomain4.png" alt="MainLogo" class="MainLogo">
        <nav>
            <ul>
                <li><a href="index.html">Início</a></li>
                <li><a href="index.html">Cadastros</a></li>
                <li><a href="movimento.html">Movimento</a></li>
                <li><a href="relatorio.html">Relatórios</a></li>
                <li><a href="venda.html" class="active">Venda</a></li>
            </ul>
        </nav>
    </div>
</header>

<div id="main-container">
    <h1>Realização de Venda</h1>

    <!-- Busca do Cliente -->
    <section class="box-section">
        <h3>Dados do Cliente</h3>
        <form id="cliente-form">
            <div class="full-box">
                <label for="cpf-cliente">CPF do Cliente:</label>
                <input type="text" id="cpf-cliente" name="cpf-cliente" placeholder="Digite o CPF do cliente" required>
                <button type="button" class="alinhaBtns" onclick="buscarCliente()">Buscar Cliente</button>
            </div>
            <div id="cliente-info"></div>
        </form>
    </section>

    <!-- Adicionar Produto -->
    <section class="box-section">
        <h3>Adicionar Produto</h3>
        <form id="produto-form">
            <div class="half-box">
                <label for="produto-nome">Produto:</label>
                <select id="produto-nome" name="produto-nome" required>
                    <option value="">Selecione o produto</option>
                    <!-- opções carregadas pelo JS -->
                </select>
            </div>

            <div class="half-box">
                <label for="produto-quantidade">Quantidade:</label>
                <input type="number" id="produto-quantidade" name="produto-quantidade" placeholder="Quantidade" min="1" required>
            </div>

            <button type="button" class="alinhaBtns" onclick="adicionarProdutoAoCarrinho()">Adicionar ao Carrinho</button>
        </form>
    </section>

    <!-- Carrinho -->
    <section class="box-section">
        <h3>Carrinho</h3>
        <table>
            <thead>
                <tr>
                    <th>Id</th>
                    <th>Produto</th>
                    <th>Quantidade</th>
                    <th>Preço Unitário</th>
                    <th>Subtotal</th>
                    <th>Ações</th>
                </tr>
            </thead>
            <tbody id="carrinho">
                <!-- Preenchido dinamicamente -->
            </tbody>
        </table>
        <div id="total-venda" data-total="0">Total: R$ 0,00</div>
        <button type="button" class="alinhaBtns finalizar" onclick="finalizarVenda()">Finalizar Venda</button>
    </section>
</div>

<footer>
    <p>&copy; 2025 Farmasic Solutions LTDA - Todos os direitos reservados.</p>
</footer>
</body>
</html>
